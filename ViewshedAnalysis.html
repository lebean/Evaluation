<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"/>
    <title>视域分析-易智瑞</title>
    <style>
        html,body,#viewDiv{padding:0;margin:0;height:100%;width:100%;}#paneDiv{position:absolute;top:18px;right:18px;padding:12px;background-color:rgba(0,0,0,0.5);color:white;width:200px;}
    </style>
    <link rel="stylesheet" href="./arcgis_js_v417/arcgis_js_api/library/4.17/esri/themes/light/main.css"/>
    <script src="./arcgis_js_v417/arcgis_js_api/library/4.17/init.js"></script>
    <script>
        var _0x9d92=['execute','esri/Graphic','features','catch','error','then','esri/views/SceneView','esri/Map','name','world-elevation','units','esri/geometry/Point','esri/tasks/support/FeatureSet','longitude','addMany','outSpatialReference','mapPoint','https://sampleserver6.arcgisonline.com/arcgis/rest/services/Elevation/ESRI_Elevation_World/GPServer/Viewshed','latitude','miles','esri/tasks/Geoprocessor'];var _0x4485=function(_0x9d9216,_0x448525){_0x9d9216=_0x9d9216-0x0;var _0x1569b7=_0x9d92[_0x9d9216];return _0x1569b7;};require([_0x4485('0x7'),_0x4485('0x6'),'esri/layers/GraphicsLayer',_0x4485('0x1'),_0x4485('0xb'),_0x4485('0x14'),'esri/tasks/support/LinearUnit',_0x4485('0xc')],function(_0x5574bb,_0x1be879,_0x4aebc4,_0x5ce7c1,_0x16fa20,_0x1c50a9,_0x1fe6aa,_0x53039b){var _0x518e3d=_0x4485('0x11');var _0x2c0aa2=new _0x5574bb({'basemap':'hybrid','ground':_0x4485('0x9')});var _0x4b0723=new _0x1be879({'container':'viewDiv','map':_0x2c0aa2,'camera':{'position':[7.59564,46.06595,0x1440],'tilt':0x46}});var _0x513413=new _0x4aebc4();_0x2c0aa2['add'](_0x513413);var _0x8df129={'type':'simple-marker','color':[0xff,0x0,0x0],'outline':{'color':[0xff,0xff,0xff],'width':0x2}};var _0x1ddb4c={'type':'simple-fill','color':[0xe2,0x77,0x28,0.75],'outline':{'color':[0xff,0xff,0xff],'width':0x1}};var _0x5b100c=new _0x1c50a9(_0x518e3d);_0x5b100c[_0x4485('0xf')]={'wkid':0x18ed4};_0x4b0723['on']('click',_0x5494f7);function _0x5494f7(_0x39f6cc){_0x513413['removeAll']();var _0x25733f=new _0x16fa20({'longitude':_0x39f6cc[_0x4485('0x10')][_0x4485('0xd')],'latitude':_0x39f6cc['mapPoint'][_0x4485('0x12')]});var _0x3b2679=new _0x5ce7c1({'geometry':_0x25733f,'symbol':_0x8df129});_0x513413['add'](_0x3b2679);var _0x42903c=[];_0x42903c['push'](_0x3b2679);var _0x25f161=new _0x53039b();_0x25f161[_0x4485('0x2')]=_0x42903c;var _0x1ebe3d=new _0x1fe6aa();_0x1ebe3d['distance']=0x5;_0x1ebe3d[_0x4485('0xa')]=_0x4485('0x13');var _0x418fb4={'Input_Observation_Point':_0x25f161,'Viewshed_Distance':_0x1ebe3d};_0x5b100c[_0x4485('0x0')](_0x418fb4)[_0x4485('0x5')](_0x3ede4e);}function _0x3ede4e(_0x1bbcf9){var _0x71cda5=_0x1bbcf9['results'][0x0]['value']['features'];var _0x45bb93=_0x71cda5['map'](function(_0xeca547){_0xeca547['symbol']=_0x1ddb4c;return _0xeca547;});_0x513413[_0x4485('0xe')](_0x45bb93);_0x4b0723['goTo']({'target':_0x45bb93,'tilt':0x0})[_0x4485('0x3')](function(_0x4e4a9a){if(_0x4e4a9a[_0x4485('0x8')]!='AbortError'){console[_0x4485('0x4')](_0x4e4a9a);}});}});
    </script>
</head>
<body>
<div id="viewDiv"></div>
<div id="paneDiv" class="esri-widget">在地图上点击一个点来执行视域分析</div>
</body>
</html>
